diff -ur xulrunner-7.0.1/xulrunner/installer/libxul-embedding.pc.in xulrunner-7.0.1.new//xulrunner/installer/libxul-embedding.pc.in
--- xulrunner-7.0.1/xulrunner/installer/libxul-embedding.pc.in	2011-09-29 04:25:11.000000000 +0800
+++ xulrunner-7.0.1.new//xulrunner/installer/libxul-embedding.pc.in	2011-12-08 17:55:19.178721922 +0800
@@ -6,5 +6,6 @@
 Name: libxul-embedding
 Description: Static library for version-independent embedding of the Mozilla runtime
 Version: %MOZILLA_VERSION%
+Requires: %NSPR_NAME% >= %NSPR_VERSION%
 Libs: -L${sdkdir}/lib -lxpcomglue -ldl
 Cflags: -DXPCOM_GLUE -I${includedir} %WCHAR_CFLAGS%
diff -ur xulrunner-7.0.1/xulrunner/installer/libxul.pc.in xulrunner-7.0.1.new//xulrunner/installer/libxul.pc.in
--- xulrunner-7.0.1/xulrunner/installer/libxul.pc.in	2011-09-29 04:25:11.000000000 +0800
+++ xulrunner-7.0.1.new//xulrunner/installer/libxul.pc.in	2011-12-08 17:55:44.262444104 +0800
@@ -1,5 +1,6 @@
 prefix=%prefix%
 sdkdir=%sdkdir%
+libdir=%libdir%
 includedir=%includedir%
 idldir=%idldir%
 
diff -ur xulrunner-7.0.1/xulrunner/installer/Makefile.in xulrunner-7.0.1.new//xulrunner/installer/Makefile.in
--- xulrunner-7.0.1/xulrunner/installer/Makefile.in	2011-09-29 04:25:11.000000000 +0800
+++ xulrunner-7.0.1.new//xulrunner/installer/Makefile.in	2011-12-08 17:56:09.496168991 +0800
@@ -109,6 +109,7 @@
 	-e "s|%includedir%|$(includedir)|" \
 	-e "s|%idldir%|$(idldir)|" \
 	-e "s|%sdkdir%|$(sdkdir)|" \
+	-e "s|%libdir%|$(installdir)|" \
 	-e "s|%MOZ_APP_NAME%|$(MOZ_APP_NAME)|" \
 	-e "s|%MOZILLA_VERSION%|$(MOZ_APP_VERSION)|" \
 	-e "s|%WCHAR_CFLAGS%|$(WCHAR_CFLAGS)|" \
diff -ur xulrunner-7.0.1/xulrunner/installer/mozilla-gtkmozembed-embedding.pc.in xulrunner-7.0.1.new//xulrunner/installer/mozilla-gtkmozembed-embedding.pc.in
--- xulrunner-7.0.1/xulrunner/installer/mozilla-gtkmozembed-embedding.pc.in	2011-09-29 04:25:11.000000000 +0800
+++ xulrunner-7.0.1.new//xulrunner/installer/mozilla-gtkmozembed-embedding.pc.in	2011-12-08 17:56:24.689738268 +0800
@@ -1,5 +1,6 @@
 prefix=%prefix%
 sdkdir=%sdkdir%
+libdir=%libdir%
 includedir=%includedir%
 
 Name: mozilla-gtkembedmoz
diff -ur xulrunner-7.0.1/xulrunner/installer/mozilla-gtkmozembed.pc.in xulrunner-7.0.1.new//xulrunner/installer/mozilla-gtkmozembed.pc.in
--- xulrunner-7.0.1/xulrunner/installer/mozilla-gtkmozembed.pc.in	2011-09-29 04:25:11.000000000 +0800
+++ xulrunner-7.0.1.new//xulrunner/installer/mozilla-gtkmozembed.pc.in	2011-12-08 17:56:39.976642464 +0800
@@ -1,5 +1,6 @@
 prefix=%prefix%
 sdkdir=%sdkdir%
+libdir=%libdir%
 includedir=%includedir%
 
 Name: mozilla-gtkembedmoz
diff -ur xulrunner-7.0.1/xulrunner/installer/mozilla-js.pc.in xulrunner-7.0.1.new//xulrunner/installer/mozilla-js.pc.in
--- xulrunner-7.0.1/xulrunner/installer/mozilla-js.pc.in	2011-09-29 04:25:11.000000000 +0800
+++ xulrunner-7.0.1.new//xulrunner/installer/mozilla-js.pc.in	2011-12-08 17:57:04.017016284 +0800
@@ -7,4 +7,4 @@
 Version: %MOZILLA_VERSION%
 Requires: %NSPR_NAME% >= %NSPR_VERSION%
 Libs: -L${sdkdir}/lib %MOZ_JS_LINK%
-Cflags: -I${includedir} -DXP_UNIX -DJS_THREADSAFE
+Cflags: -I${includedir} -I${includedir}/js -DXP_UNIX -DJS_THREADSAFE
