diff -ur systemd-29-ylmf1/config.h.in systemd-29-ylmf1.new//config.h.in
--- systemd-29-ylmf1/config.h.in	2011-06-16 19:19:00.000000000 +0800
+++ systemd-29-ylmf1.new//config.h.in	2011-08-09 11:40:47.180248944 +0800
@@ -142,6 +142,9 @@
 /* Target is Ubuntu */
 #undef TARGET_UBUNTU
 
+/* Target is ylmfos */
+#undef TARGET_YLMFOS
+
 /* GID of the 'tty' group */
 #undef TTY_GID
 
diff -ur systemd-29-ylmf1/configure systemd-29-ylmf1.new//configure
--- systemd-29-ylmf1/configure	2011-06-16 19:18:08.000000000 +0800
+++ systemd-29-ylmf1.new//configure	2011-08-09 11:42:42.086955639 +0800
@@ -707,6 +707,8 @@
 TARGET_DEBIAN_OR_UBUNTU_TRUE
 TARGET_UBUNTU_FALSE
 TARGET_UBUNTU_TRUE
+TARGET_YLMFOS_FALSE
+TARGET_YLMFOS_TRUE
 TARGET_DEBIAN_FALSE
 TARGET_DEBIAN_TRUE
 TARGET_SUSE_FALSE
@@ -1570,7 +1572,7 @@
                         (or the compiler's sysroot if not specified).
   --with-distro=DISTRO    Specify the distribution to target: One of fedora,
                           suse, debian, ubuntu, arch, gentoo, slackware,
-                          altlinux or other
+                          altlinux, ylmfos or other
   --with-sysvinit-path=PATH
                           Specify the path to where the SysV init scripts are
                           located [default=based on distro]
@@ -14438,6 +14440,9 @@
                 if test "x`lsb_release -is 2>/dev/null`" = "xUbuntu"; then
                         with_distro="ubuntu"
                 fi
+                if test "x`lsb_release -i 2>/dev/null`" = "xYlmf OS"; then
+                        with_distro="ylmfos"
+                fi
         fi
         if test "z$with_distro" = "z"; then
                 with_distro=`uname -s`
@@ -14487,6 +14492,16 @@
 
                 M4_DISTRO_FLAG=-DTARGET_UBUNTU=1
                 ;;
+	ylmfos)
+		SYSTEM_SYSVINIT_PATH=/etc/init.d
+		SYSTEM_SYSVRCND_PATH=/etc
+
+$as_echo "#define TARGET_YLMFOS /**/" >>confdefs.h
+                
+		M4_DISTRO_FLAG=-DTARGET_YLMFOS=1
+		have_plymouth=true
+		;;
+
         arch)
                 SYSTEM_SYSVINIT_PATH=/etc/rc.d
                 SYSTEM_SYSVRCND_PATH=/etc
@@ -14628,6 +14643,14 @@
   TARGET_UBUNTU_FALSE=
 fi
 
+if test x"$with_distro" = xylmfos; then
+  TARGET_YLMFOS_TRUE=
+  TARGET_YLMFOS_FALSE='#'
+else
+  TARGET_YLMFOS_TRUE='#'
+  TARGET_YLMFOS_FALSE=
+fi
+
  if test x"$with_distro" = xdebian -o x"$with_distro" = xubuntu; then
   TARGET_DEBIAN_OR_UBUNTU_TRUE=
   TARGET_DEBIAN_OR_UBUNTU_FALSE='#'
@@ -14971,6 +14994,10 @@
   as_fn_error $? "conditional \"TARGET_UBUNTU\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${TARGET_YLMFOS_TRUE}" && test -z "${TARGET_YLMFOS_FALSE}"; then
+  as_fn_error $? "conditional \"TARGET_YLMFOS\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${TARGET_DEBIAN_OR_UBUNTU_TRUE}" && test -z "${TARGET_DEBIAN_OR_UBUNTU_FALSE}"; then
   as_fn_error $? "conditional \"TARGET_DEBIAN_OR_UBUNTU\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
diff -ur systemd-29-ylmf1/configure.ac systemd-29-ylmf1.new//configure.ac
--- systemd-29-ylmf1/configure.ac	2011-06-16 19:17:38.000000000 +0800
+++ systemd-29-ylmf1.new//configure.ac	2011-08-09 11:45:11.561012120 +0800
@@ -280,7 +280,7 @@
 
 AC_PATH_PROG([M4], [m4])
 
-AC_ARG_WITH(distro, AS_HELP_STRING([--with-distro=DISTRO],[Specify the distribution to target: One of fedora, suse, debian, ubuntu, arch, gentoo, slackware, altlinux or other]))
+AC_ARG_WITH(distro, AS_HELP_STRING([--with-distro=DISTRO],[Specify the distribution to target: One of fedora, suse, debian, ubuntu, arch, gentoo, slackware, altlinux, ylmfos or other]))
 if test "z$with_distro" = "z"; then
         if test "$cross_compiling" = yes; then
                 AC_MSG_WARN([Target distribution cannot be reliably detected when cross-compiling. You should specify it with --with-distro (see $0 --help for recognized distros)])
@@ -299,6 +299,9 @@
                 if test "x`lsb_release -is 2>/dev/null`" = "xUbuntu"; then
                         with_distro="ubuntu"
                 fi
+                if test "x`lsb_release -i 2>/dev/null`" = "xYlmf OS"; then
+                        with_distro="ylmfos"
+                fi
         fi
         if test "z$with_distro" = "z"; then
                 with_distro=`uname -s`
@@ -336,6 +339,13 @@
                 AC_DEFINE(TARGET_UBUNTU, [], [Target is Ubuntu])
                 M4_DISTRO_FLAG=-DTARGET_UBUNTU=1
                 ;;
+        ylmfos)
+                SYSTEM_SYSVRCND_PATH=/etc/init.d
+		SYSTEM_SYSVRCND_PATH=/etc
+                AC_DEFINE(TARGET_YLMFOS, [], [Target is ylmfos])
+                M4_DISTRO_FLAG=-DTARGET_YLMFOS=1
+		have_plymouth=true
+                ;;
         arch)
                 SYSTEM_SYSVINIT_PATH=/etc/rc.d
                 SYSTEM_SYSVRCND_PATH=/etc
@@ -424,6 +434,7 @@
 AM_CONDITIONAL(TARGET_SUSE, test x"$with_distro" = xsuse)
 AM_CONDITIONAL(TARGET_DEBIAN, test x"$with_distro" = xdebian)
 AM_CONDITIONAL(TARGET_UBUNTU, test x"$with_distro" = xubuntu)
+AM_CONDITIONAL(TARGET_YLMFOS, test x"$with_distro" = xylmfos)
 AM_CONDITIONAL(TARGET_DEBIAN_OR_UBUNTU, test x"$with_distro" = xdebian -o x"$with_distro" = xubuntu)
 AM_CONDITIONAL(TARGET_ARCH, test x"$with_distro" = xarch)
 AM_CONDITIONAL(TARGET_GENTOO, test x"$with_distro" = xgentoo)
