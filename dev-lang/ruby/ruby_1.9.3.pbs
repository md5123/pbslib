#
# StartOS package build script
#
# Copyright 2012 StartOS
# Distributed under the terms of the GNU General Public License v2
#

DESCRIPTION="An object-oriented language for quick and easy programming"
HOMEPAGE="http://www.ruby-lang.org/en/"
LICENSE="custom,BSD"
PACKAGER="Zhongxin Huang <huangzhongxin@ivali.com>
          chenqixing@ivali.com"

SRC_URI="ftp://ftp.ruby-lang.org/pub/"$N"/1.9/"$N-$V"-p327.tar.bz2"

RDEPEND="berkeley-db gdbm libffi openssl readline tk yaml"
BDEPEND=""
RECOMMENDED=""
CONFLICT=""

pbs_unpack() {
    dounpack
}

pbs_config() {
    config+="--enable-shared
             --enable-pthread 
             --disable-rpath"
    doconfig
}

pbs_build() {
    domake
}

pbs_install() {
    make DESTDIR="${destdir}" install-nodoc
    dodoc COPYING BSDL
    docp "$filesdir"/gemrc "$destdir"/etc/
}

