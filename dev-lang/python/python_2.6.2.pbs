#
# Ylmf OS package build script
#

DESCRIPTION="An interpreted, interactive, object-oriented programming language."
HOMEPAGE="http://www.python.org/"
LICENSE="custom"
PACKAGER="Ylmf OS Developers <ylmfos@115.com>"

SRC_URI="http://www.python.org/ftp/"$N"/"$V"/Python-"$V".tar.bz2"

RDEPEND="berkeley-db bzip2 expat fontconfig freetype gdbm glibc libX11 libXau libxcb libXdmcp libXext libXft libXrender libXScrnSaver ncurses openssl readline sqlite tcl tk zlib"
BDEPEND=""

pbs_unpack() {
        dounpack
}

pbs_config(){
	# Ensure that internal copies of expat, libffi and zlib are not used.
	rm -fr Modules/expat
	rm -fr Modules/_ctypes/libffi*
	rm -fr Modules/zlib

	config+="--enable-shared 
	             --with-threads 
		     --with-system-expat 
		     --with-system-ffi"
	doconfig
}

pbs_build() {
	domake
}

pbs_install() {
	domkinstall
}


