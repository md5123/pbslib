#
# Ylmf OS package build script
#
# Copyright 2005-2012 Ylmf OS
# Distributed under the terms of the GNU General Public License v2
#

DESCRIPTION="Python bindings for the Qt toolkit"
HOMEPAGE="http://pypi.python.org/pypi/PyQt"
LICENSE="GPL"
PACKAGER="Ylmf OS Developers <ylmfos@ylmf.com>"

SRC_URI="http://www.riverbankcomputing.com/static/Downloads/PyQt4/PyQt-x11-gpl-"$V".tar.gz"

RDEPEND="sip"
BDEPEND=""
RECOMMENDED=""
CONFLICT=""

pbs_unpack() {
        dounpack
}

pbs_config() {
	#python configure.py --confirm-license --qsci-api
	#find -name 'Makefile' | xargs sed -i 's|-Wl,-rpath,/usr/lib||g;s|-Wl,-rpath,.* ||g'
	#make
	### Python2 version ###
	python configure.py --confirm-license -v /usr/share/sip --qsci-api
	find -name 'Makefile' | xargs sed -i 's|-Wl,-rpath,/usr/lib||g;s|-Wl,-rpath,.* ||g'
}

pbs_build() {
	domake
}

pbs_install() {
	#INSTALL_ROOT is needed for the QtDesigner module, the other Makefiles use DESTDIR
	domkinstall INSTALL_ROOT="$destdir"
}

