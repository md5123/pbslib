#
# Ylmf OS package build script
#
# Copyright 2005-2012 Ylmf OS
# Distributed under the terms of the GNU General Public License v2
#

DESCRIPTION="An Open Source, high performance real-time graphics toolkit"
HOMEPAGE="http://www.openscenegraph.org"
LICENSE="custom/OSGPL"
PACKAGER="Ylmf OS Developers <ylmfos@ylmf.com>"

SRC_URI="http://www.openscenegraph.org/downloads/stable_releases/OpenSceneGraph-"$V"/source/OpenSceneGraph-"$V".zip"
CHECKSUM="c43a25d023e635c3566b2083d8e6d956"

RDEPEND="alsa-lib bzip2 cairo curl cyrus-sasl directfb expat ffmpeg fontconfig freetype gcc-lib gdk-pixbuf giflib glib2 glibc gnutls gtk+ jack-audio-connection-kit jasper lame lcms libcroco libdrm libffi libgcrypt libgpg-error libICE libidn libjpeg-turbo libogg libpng librsvg libsdl libSM libssh2 libtasn1 libtheora libtiff libva libvorbis libX11 libXau libxcb libXcomposite libXcursor libXdamage libXdmcp libXext libXfixes libXi libXinerama libxml2 libXrandr libXrender libXt libXxf86vm mesa nas opencore-amr openldap openssl orc pango pixman poppler qt-core rtmpdump schroedinger util-linux-ng x264 xvidcore zlib"
RECOMMENDED=""
BDEPEND="cmake"
OPTIONAL=""
CONFLICT=""

pbs_unpack() {
        dounpack
}

pbs_config() {
	cmake . -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release
}

pbs_build() {
	sed -i 's|#include <curl/types.h>|//#include <curl/types.h>|' src/osgPlugins/curl/ReaderWriterCURL.cpp
	domake
}

pbs_install() {
	domkinstall
	dodoc LICENSE.txt 
}

