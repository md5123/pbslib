#
# YLmf_OS package build script
#

DESCRIPTION="The GLib library of C routines"
HOMEPAGE="http://www.gtk.org/"
REPO=""

SRC_URI="http://ftp.gnome.org/pub/gnome/sources/glib/2.26/glib-"$V$R".tar.bz2"

RDEPEND="gamin glibc zlib"
BDEPEND="pkgconfig   "

NOTES="Gamin requires GLib in order to compile; therefore, you must first install GLib, then compile Gamin, and recompile GLib against it.
--with-pcre=system: This parameter causes the build to use a system-provided version of the PCRE library instead of an internal version."

pbs_unpack() {
        ypkg_unpack
}

pbs_config() {
	
	YPB_CONFIG+=" --prefix=/usr " #--with-pcre=system
	ypkg_config
}

pbs_build() {
	ypkg_make
}

pbs_install() {
	ypkg_mkinstall
	install -d -m755 "$YPPATH_DEST"/etc/profile.d
	cat > "$YPPATH_DEST"/etc/profile.d/glib2-locale.sh << "EOF"
export G_FILENAME_ENCODING=@locale
EOF
}
