#
# StartOS package build script
#
# Copyright 2012 StartOS
# Distributed under the terms of the GNU General Public License v2
#

DESCRIPTION="Advanced version control system"
HOMEPAGE="http://subversion.apache.org/"
LICENSE="GPL-2"
PACKAGER="StartOS Developers"

SRC_URI=" http://subversion.tigris.org/downloads/"$N-$V$R".tar.bz2 "

RDEPEND="zlib sqlite apr-util expat apr util-linux-ng neon"
BDEPEND=" apr apr-util sqlite"
RECOMMENDED=""

NOTES="
Python
Apache Required for mod_dav_svn
JDK
JUnit
Dante
Jikes
pkg-config
expat or libXML2
OpenSSL Add --with-ssl to configure
MIT krb5 or Heimdal
Berkeley DB or GDBM Add --with-berkeley-db or --with-gdbm to configure
SWIG
Ruby
Neon
"

pbs_unpack() {
        dounpack
}

pbs_config() {
	dopatch "$N-$V$R"-build_fix-1.patch
	config+="--enable-maintainer-mode --disable-shared --with-neon=/usr/bin/neon-config"
	doconfig
}

pbs_build() {
	domake
}

pbs_install() {
	domkinstall
	dodoc doc/*
}
