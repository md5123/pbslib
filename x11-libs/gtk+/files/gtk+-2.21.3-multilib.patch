diff -ur gtk+-2.24.6/gtk/gtkrc.c gtk+-2.24.6.new//gtk/gtkrc.c
--- gtk+-2.24.6/gtk/gtkrc.c	2011-08-16 10:30:52.000000000 +0800
+++ gtk+-2.24.6.new//gtk/gtkrc.c	2011-09-14 11:35:18.434243675 +0800
@@ -450,7 +450,15 @@
       if (im_module_file)
 	result = g_strdup (im_module_file);
       else
-	result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", "gtk.immodules", NULL);
+           {
+             result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", GTK_HOST, "gtk.immodules", NULL);
+              if (!g_file_test (result, G_FILE_TEST_EXISTS))
+                {
+                  g_free (result);
+                  
+                  result = g_build_filename (GTK_SYSCONFDIR, "gtk-2.0", "gtk.immodules", NULL);
+                }
+         }
     }
 
   return result;
