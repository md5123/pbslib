diff -ur fsam7400-0.5.2/Makefile fsam7400-0.5.2.new/Makefile
--- fsam7400-0.5.2/Makefile	2008-11-22 02:44:52.000000000 +0800
+++ fsam7400-0.5.2.new/Makefile	2011-11-03 11:49:33.890293915 +0800
@@ -1,5 +1,5 @@
 KERNELSRC?=/lib/modules/`uname -r`/build
-KERNELVERSION=$(shell awk -F\" '/REL/ {print $$2}' $(shell grep -s -l REL $(KERNELSRC)/include/linux/version.h $(KERNELSRC)/include/linux/utsrelease.h))
+KERNELVERSION=$(shell uname -r)
 KERNELMAJOR=$(shell echo $(KERNELVERSION)|head -c3)
 
 CONFIG_FSAM7400?=m
@@ -44,6 +44,6 @@
 	rmmod fsam7400
 
 install: $(TARGET)
-	mkdir -p /lib/modules/$(KERNELVERSION)/extra
-	cp -v $(TARGET) /lib/modules/$(KERNELVERSION)/extra/
+	mkdir -p $(DESTDIR)/lib/modules/$(KERNELVERSION)/extra
+	cp -v $(TARGET) $(DESTDIR)/lib/modules/$(KERNELVERSION)/extra/
 	depmod -a
