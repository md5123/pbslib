#
# StartOS package build script
#
# Copyright 2012 StartOS
# Distributed under the terms of the GNU General Public License v2
#

DESCRIPTION="a screen snapshot tool from deepin linux"
HOMEPAGE="http://www.linuxdeepin.com"
LICENSE="LGPLv3"
PACKAGER="Zhongxin Huang <huangzhongxin@ivali.com>"

SRC_URI="git://github.com/lovesnow/"$N".git"

RDEPEND="python py-gtk py-xlib"
RECOMMENDED=""
BDEPEND=""
OPTIONAL=""
CONFLICT=""

pbs_unpack() {
    dounpack
}

pbs_install() {
    # locale
    for pofile in po/*.po; do 
        lang=`basename $pofile .po`
        dest="$PKGDIR/usr/share/$N/locale/$lang/LC_MESSAGES"
        mkdir -p $dest
        msgfmt -o $dest/deepin-screenshot.mo $pofile
    done

    docp -r src "$PKGDIR"/usr/share/"$N"
    docp -r theme "$PKGDIR"/usr/share/"$N"
    dodoc AUTHORS ChangeLog README
    
    cd "$PKGDIR"
    doln /usr/share/"$N"/src/"$N" usr/bin/"$N"
    doln /usr/share/"$N"/locale/en_US usr/share/"$N"/locale/default
}

